# Orinoco #

This is the back end server for Project 5 of the Junior Web Developer path.

### Prerequisites ###

You will need to have Node and `npm` installed locally on your machine.

### Installation ###

Clone this repo. From within the project folder, run `npm install`. You 
can then run the server with `node server`. 
The server should run on `localhost` with default port `3000`. If the
server runs on another port for any reason, this is printed to the
console when the server starts, e.g. `Listening on port 3001`.

### Plan de tests ###

+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| Lieu /page html | Action                                    | Attendu                                                                              | Resultat                                                                                           |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| index.html      | Se rendre sur la page principale          | Envoi GET et voir tous les articles, avec les details                                 | Si erreur, console.error se declenche (erreur affectation reponse)                              |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| p-produit.html  | Se rendre sur la page de larticle choisi | Envoi GET et voir larticle et lId dans URL avec details                             | Si erreur, console.error se declenche (erreur affectation de larticle)                        |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| p-produit.html  | Voir les lentilles dispo                  | Envoi GET et voir la liste par article, avec details des lentilles                    | Si erreur, console.error se declenche: erreur boucle des lentilles                            |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| p-produit.html  | Selectionner lentille                      | Non fonctionnel /cahier des charges                                                  | Non fonctionnel /cahier des charges                                                               |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| p-produit.html  | Ajout dun article                        | Incrementation dans bouton -quantite                                                | Si erreur, console.error: erreur ajout dans panier                                           |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Ajout dun tableau                                                                   |                                                                                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Ajout dans local storage                                                             |                                                                                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| p-produit.html  | Suppression dun article                  | Decrementation dans quantite                                                            | Si erreur, console.error: erreur suppression dans panier                                     |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Suppression dun tableau                                                             |                                                                                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Suppression dans local storage                                                       |                                                                                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| panier.html     | Voir le panier                            | Voir les articles ajoutes, tout produit confondu                                      | Si erreur, console.error: erreur total panier                                                |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Voir quantite et prix total                                                           | Si panier vide, alerte Bootstrap -panier vide, formulaire de commande desactive                  |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           | Dans tableau mais aussi dans tableau                                                 |                                                                                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| panier.html     | Vider le panier                           | Tous les articles sont supprimes+ local storage est reinitialise                        | Alerte Bootstrap -panier vide, formulaire de commande desactive                                  |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| panier.html     | Valider formulaire                        | Formulaire nest pas valide tant que tous les champs obligatoires ne sont pas remplis | Alerte Bootstrap -veuillez renseigner ce champ                                                 |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| panier.html     | Validation commande                       | Envoi est desactive tant que les champs ne sont pas remplis correctement (regex)       | Alerte Bootstrap sur element a renseigner correctement                                               |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           |                                                                                      | Si erreur, console.error: erreur dans le formulaire, pas denvoi                             |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| panier.html     | Validation commande                       | Envoi /requete POST est fait, et redirection sur page de remerciement                 | Si erreur, console.error:  erreur requete promise                                              |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
|                 |                                           |                                                                                      | Si tout est ok, alerte Bootstrap  Votre commande a bien ete prise en compte ! Merci de patienter |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+
| commande.html   | Commande validee                           | Recuperer et afficher Id de commande et prix total                                     | Si erreur, console.error: erreur de donnees de confirmation                                   |
+-----------------+-------------------------------------------+--------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------+